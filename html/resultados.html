<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados da Pesquisa - The Book Collectors</title>
    <link rel="stylesheet" href="../css/styles.css">

</head>

<body>
    <header>
        <div class="contentor">
            <nav>
                <ul>
                    <li><a href="index.html">Ínicio</a></li>
                    <li><a href="collections.html">Coleções</a></li>
                    <li><a href="eventos.html">Eventos</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="search-container">
            <h2>Resultados da Pesquisa</h2>
            <ul class="result-list" id="result-list"></ul>
            <p id="no-results" style="display: none;">Nenhum resultado encontrado.</p>
        </div>
    </main>

    <script>
        const books = {
            "The Poppy War": "PWcolecao.html",
            "The Dragon Republic": "DRcolecao.html",
            "The Burning God": "BGcolecao.html",
            "A Song of Ice and Fire": "ASOIAFcolecao.html",
            "The Hobbit": "hobbit.html",
            "Harry Potter e a Pedra Filosofal": "hp1.html"
        };

        // Obter o termo da pesquisa da URL
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('q') ? urlParams.get('q').toLowerCase() : '';

        const resultList = document.getElementById('result-list');
        const noResults = document.getElementById('no-results');

        if (query) {
            let filteredBooks = Object.keys(books).filter(book => book.toLowerCase().includes(query));

            if (filteredBooks.length > 0) {
                filteredBooks.forEach(book => {
                    let li = document.createElement('li');
                    let a = document.createElement('a');
                    a.textContent = book;
                    a.href = books[book]; // Define o link correto
                    li.appendChild(a);
                    resultList.appendChild(li);
                });
            } else {
                noResults.style.display = 'block';
            }
        } else {
            noResults.style.display = 'block';
        }
    </script>
</body>

</html>
