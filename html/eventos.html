<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Book Collectors - Eventos</title>
  <link rel="stylesheet" href="../css/styles.css" />
</head>
<body class="eventos-page">
  <!-- Cabeçalho com o nome da página -->
  <div class="nome-pagina">
    <h1>The Book Collectors</h1>
  </div>

  <!-- Barra de Navegação -->
  <header>
    <div class="contentor">
      <nav>
        <ul>
          <li><a href="index.html">Ínicio</a></li>
          <li><a href="collections.html">Coleções</a></li>
          <li><a href="eventos.html">Eventos</a></li>
          <li><a href="criar_colecao.html">Criar coleção</a></li>
          <li><a href="criar_eventos.html">Criar evento</a></li>
        </ul>
      </nav>
      <form class="search-bar" action="resultados.html" method="GET">
        <input type="text" name="q" placeholder="Pesquisar..." aria-label="Pesquisar">
        <button type="submit">Buscar</button>
        <div class="login-header"><a href="login.html">Login</a></div>
      </form>
    </div>
  </header>

  <!-- Conteúdo Principal -->
  <main>
    <article class="evento" data-event-date="2025-04-15">
      <header>
        <h2>Feira Internacional de Livros Raros</h2>
        <p><strong>Data:</strong> 15 de abril de 2025</p>
        <p><strong>Localização:</strong> Centro de Convenções de Lisboa</p>
      </header>
      <section>
        <p><strong>Descrição:</strong> O maior evento de livros raros e edições especiais da Europa. Participação de editores, colecionadores e livreiros de mais de 30 países. Inclui leilões especiais e sessões de autógrafos com autores consagrados.</p>
      </section>
      <!-- Alerta para data próxima -->
      <div id="alerta-1" class="alerta-evento"></div>
      <!-- Se o evento já ocorreu, o sistema permite a avaliação -->
      <div id="avaliacao-1" class="avaliacao"></div>
    </article>

    <article class="evento" data-event-date="2025-05-02">
      <header>
        <h2>Workshop de Restauração de Livros</h2>
        <p><strong>Data:</strong> 2 de maio de 2025</p>
        <p><strong>Localização:</strong> Biblioteca Nacional, Porto</p>
      </header>
      <section>
        <p><strong>Descrição:</strong> Aprenda técnicas profissionais de conservação e restauração de livros antigos com especialistas do patrimônio cultural. Materiais inclusos. Vagas limitadas.</p>
      </section>
      <div id="alerta-2" class="alerta-evento"></div>
      <div id="avaliacao-2" class="avaliacao"></div>
    </article>

<head>
  <meta charset="UTF-8">
  <title>Avaliação por Estrelas</title>
</head>

    <section class="bloco-lateral">
        <div class="bloco-imagem">
            <img src="../fotos/evento_1.jpeg" alt="evento_1" />
        </div>
        <div class="bloco-info">
            <h3>Workshop de Escrita Criativa Livre</h3>
            <p><strong>Data:</strong> 22 de março 2025</p>
            <p><strong>Horário:</strong> 15h ás 18h</p>
            <p><strong>Local:</strong> Olga Santos Galeria</p>
            <p><strong>Descrição: </strong>
                Descubra e desenvolva o poder da sua imaginação e liberte a sua voz interior neste workshop de
                escrita criativa livre!
                Num ambiente criativo, descontraído e inspirador exploraremos a arte da escrita através de
                exercícios simples e acessíveis a todos.
                Na sessão, os participantes irão desenvolver exercícios dinâmicos que estimulam a escrita
                criativa e ajudam a superar bloqueios e onde cada um pode expressar as suas ideias e emoções.
                No final do workshop, teremos um conjunto de textos criativos. </p>
        </div>
    </section>

    <section id="newEvents">
    </section>
<body>

  </main>

  <!-- Rodapé -->
  <footer>
    <p>The Book Collectors</p>
  </footer>

  <!-- Script para alertas de data e sistema de avaliação -->
  <script>
    function verificarEventos() {
      const eventos = document.querySelectorAll('.evento');
      const hoje = new Date();
      
      eventos.forEach(evento => {
        const dataEvento = new Date(evento.getAttribute('data-event-date'));
        const diffTime = dataEvento - hoje;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        const alerta = evento.querySelector('.alerta-evento');
        const avaliacao = evento.querySelector('.avaliacao');

        if (diffDays > 0 && diffDays <= 7) {
          alerta.innerHTML = `⚠️ Evento próximo! Faltam ${diffDays} dias`;
        } else if (diffDays <= 0) {
          alerta.innerHTML = '✅ Evento realizado';
          criarSistemaAvaliacao(avaliacao);
        }
      });
    }

    function criarSistemaAvaliacao(container) {
      container.innerHTML = `
        <p>Avalie este evento:</p>
        <div class="estrelas">
          ${[1, 2, 3, 4, 5].map(i => `<span class="estrela" data-rating="${i}">★</span>`).join('')}
        </div>
      `;
      container.querySelectorAll('.estrela').forEach(estrela => {
        estrela.addEventListener('click', function() {
          container.querySelectorAll('.estrela').forEach(e => e.classList.remove('ativa'));
          this.classList.add('ativa');
          // Lógica para enviar a avaliação pode ser implementada aqui
        });
      });
    }

    window.onload = verificarEventos;
  </script>
  <script src="../js/mostrar_eventos.js"></script>
</body>
</html>
